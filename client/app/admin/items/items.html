<h1 class="page-title no-margin pad border-bottom">
  <i class="fa fa-cubes"></i> Products
  <div class="btn-group pull-right" role="group">
    <a href="/admin/add-product" role="button" class="btn btn-default">
      <i class="fa fa-plus"></i> Add New
    </a>
  </div>
</h1>
<div class="row margin-vertical-10">
  <div class="col-md-12 col-sm-12">
    <div class="btn-toolbar" role="toolbar">
      <div class="btn-group" role="group">
        <button type="button" class="btn btn-default active">All (92)</button>
        <button type="button" class="btn btn-default text-green">Published (85)</button>
        <button type="button" class="btn btn-default text-red">Deleted (0)</button>
      </div>
      <div class="pull-right">
        <select class="dropdown-toggle btn btn-default pad product-filter">
          <option value="-1">All Categories</option>
          <option ng-repeat="category in categories" value="{{category._id}}">{{category.name}}</option>
        </select>
        <select class="dropdown-toggle btn btn-default pad product-filter">
          <option value="-1">All Product Types</option>
          <option value="1">Simple</option>
          <option value="2">Virtual</option>
          <option value="3">Downloadable</option>
        </select>
        <button type="button" class="btn btn-info btn-sm">
          <i class="fa fa-filter"></i> Filter Products
        </button>
      </div>
    </div>
  </div> <!-- ./col-12 first row of tool box -->
  <div class="col-md-9 col-sm-9 margin-top-10">
    <div class="btn-group" role="group">
      <button type="button" tooltip="For selected products" class="btn btn-sm btn-default dropdown-toggle" data-toggle="dropdown" aria-expanded="false">
        Bulk Action
        <span class="caret"></span>
      </button>
      <ul class="dropdown-menu" role="menu">
        <li><a href="#" class="text-green">Publish</a></li>
        <li><a href="#" class="text-red">Delete</a></li>
      </ul>
    </div>
  </div>
  <div class="col-md-3 col-sm-3 margin-top-10 text-right">
    <div class="input-group">
      <input type="text" class="form-control input-sm" placeholder="Search Products">
      <span class="input-group-btn">
        <button class="btn btn-default btn-sm" type="button">
          <i class="fa fa-search"></i>
        </button>
      </span>
    </div>
  </div>
</div>

<div class="card card-solid pad-10">
  <div class="card-overlay" ng-show="loading">
    <span class="card-overlay-icon text-black">
      <i class="fa fa-refresh fa-spin fa-2x"></i>
    </span>
  </div>
  <table datatable="ng" dt-options="dtOptions" dt-column-defs="dtColumnDefs" class="table table-hover table-compact bg-white border">
    <thead>
      <tr class="bg-teal">
        <th>
          <input type="checkbox" id="check_all" />
        </th>
        <th>Product</th>
        <th>Categories</th>
        <th>Published</th>
        <th>Stock</th>
        <th>Price</th>
        <th>Date</th>
        <th class="text-center"><i class="fa fa-star" tooltip="Featured"></i></th>
        <th>Type</th>
      </tr>
    </thead>
    <tbody>
      <tr ng-repeat="item in items" class="product-admin-box">
        <td width="5%">
          <input type="checkbox" id="check_for_{{item._id}}" />
        </td>
        <td width="20%">
          <img class="product-image" src="{{getImageUrl(item.mainImage)}}" />
          <a href="/product/{{item._id}}">
            {{item.title}}
          </a>
          <div class="actions">
            <a href="#" class="text-small text-underline">Edit</a>
            |
            <a href="#" class="text-small text-underline">Delete</a>
            |
            <a href="#" class="text-small text-underline">Duplicate</a>
          </div>
        </td>
        <td width="15%">
          <span class="text-muted" ng-repeat="category in item.categories">
            {{category.name}},
          </span>
        </td>
        <td width="10%">
          <span class="text-green" ng-show="item.active">
            Published
          </span>
          <span class="text-red" ng-hide="item.active">
            Not Published
          </span>
        </td>
        <td width="10%">
          <span class="text-green">
            In Stock
          </span>
        </td>
        <td width="15%">
          <span class="text-muted" ng-class="{'text-strike text-normal': item.specialPrice && item.specialPrice !== '' && item.specialPrice > 0, 'text-bolder': !item.specialPrice || item.specialPrice === '' || item.specialPrice === 0}">
            {{item.currency}} {{item.price}}
          </span>
          <span ng-switch="item.isSpecialDiscount" ng-show="item.specialPrice && item.specialPrice !== '' && item.specialPrice > 0">
            <span ng-switch-when="false" class="text-bolder text-muted">
              &nbsp; {{item.currency}} {{item.specialPrice}}
            </span>
            <span ng-switch-when="true" class="text-bolder text-muted">
              &nbsp; {{item.currency}} {{item.price - ((item.price * item.specialPrice) / 100)}}
            </span>
          </span>
        </td>
        <td width="15%">
          <span class="text-muted">{{moment(item.createdAt).format(fullDateFormate)}}</span>
        </td>
        <td width="5%" class="text-center">
          <span ng-switch="item.featured">
            <i ng-switch-when="false" class="fa fa-star-o" tooltip="Not Featured"></i>
            <i ng-switch-when="true" class="fa fa-star" tooltip="Featured"></i>
          </span>
        </td>
        <td width="5%" class="text-center">
          <span ng-switch="item.productType">
            <i class="fa fa-cloud-download" tooltip="Downloadable" ng-switch-when="3"></i>
            <i class="fa fa-circle-o-notch" tooltip="Virtual" ng-switch-when="2"></i>
            <i class="fa fa-bars" tooltip="Simple" ng-switch-when="1"></i>
          </span>
        </td>
      </tr>
    </tbody>
  </table>
</div>
<div class="row margin-top-10">
  <div class="col-md-12 load-more-block text-center" ng-show="!noMoreItems">
    <button ui-ladda="loading" data-style="zoom-in" class="btn btn-thin ladda-button border" href="#" ng-click="loadMore()" data-spinner-color="#646678"> 
      <span class="ladda-label">
        <i class="fa fa-plus-sign">+</i> load more products
      </span>
    </button>
  </div>
  <div class="col-md-12 text-center no-more-items text-muted margin-bottom-10" ng-show="noMoreItems">
    -- no more products to load --
  </div>
</div>
